version: "3"
services:
  server:
    container_name: z36_server
    build:
      context: .
      dockerfile: Server/dockerfile
    image: tcp_server:1.0
    stdin_open: true # docker run -i
    tty: true # docker run -t
    environment:
      - MAX_CLIENTS=5

  client:
    container_name: z36_client
    build:
      context: .
      dockerfile: Client/dockerfile
    image: tcp_client:1.0
    stdin_open: true
    tty: true
    command: [ "z36_server", "1234" ]

networks:
  default:
    name: z36_network
    external: true
